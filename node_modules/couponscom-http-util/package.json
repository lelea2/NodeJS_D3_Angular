{
  "name": "couponscom-http-util",
  "version": "1.19.0-6653-17c0ac888370",
  "description": "Coupons.com library of general purposes utilities for working on HTTP request",
  "repository": {
    "type": "hg",
    "url": "ssh://merc.corp.coupons.com//home/hg/CouponsComN2"
  },
  "author": {
    "name": "Coupons.com Rebuild Team",
    "email": "RebuildDevelCoreENG@couponsinc.com"
  },
  "license": "proprietary",
  "publishConfig": {
    "registry": "http://npm.corp.coupons.com:4873/"
  },
  "main": "httpUtil.js",
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "express-useragent": "^0.1.2",
    "ipware": "^0.0.3",
    "http-status": "~0.1.8",
    "couponscom-logger": "^1.19.0",
    "couponscom-config-chain-manager": "^1.0.0",
    "ipfunctions": "^0.1.0"
  },
  "devDependencies": {
    "grunt-contrib-jshint": "~0.6.4",
    "grunt-mocha-cli": "~1.5.0",
    "istanbul": "^0.2.6",
    "mocha-jenkins-reporter": "~0.1.0",
    "express": "~4.0.0",
    "supertest": "~0.10.0",
    "body-parser": "^1.10.0",
    "grunt-shell": "^0.6.4"
  },
  "readme": "# Package Description\nThis package contains utility functions for working with an express-conpatible HTTP request object.\n\n# API\n## 1.x\n### initialize()\n\narguments: none\n\nreturns a function that takes an express-compatible request object, an express-compatible response object, and a callback function as parameters. The function copies all query string keys into the request object with lower casing. When called, the function creates a global object called CURRENTREQUEST to which is assigned the request object that's passed to it.\n\n### getCurrentRoute()\narguments: (required) an express-compatible request object\n\nreturn (string) current route configuration\n\n### getCurrentURI()\n\narguments: (required) an express-compatible request object\n\nreturns (string) the original URL requested (starting with the path) for either the globally set request or the one that was passed to the function. This is a wrapper around express' request.originalUrl property.\n\n### getCurrentHost()\n\narguments: (required) an express-compatible request object\n\nreturns (string) the hostname from the Host header field for either the globally set request or the one that was passed to the function. This is a wrapper around express' request.hostname property.\n\n### getCurrentPath()\n\narguments: (required) an express-compatible request object\n\nreturns (string) the path of the URL for either the globally set request or the one that was passed. This is a wrapper around express' request.path property.\n\n### getCurrentProtocol()\n\narguments: (required) an express-compatible request object\n\nreturn (string) prototcol of the request object (http or https)\n\n### getQueryString()\nargument: (required) an express-compatible request object\n\nreturn (string) whole query string in URL.\nEg: http://coupons.com/?plid=test&crid=media should return \"plid=test&crid=media\"\n\n### getReferrerURL()\n\narguments: (optional object) an express-compatible request object\n\nreturns (string) the referrer from the headers if there was one or an empty string if there wasn't a referrer\n\n### getQueryValue()\n\narguments:\n\n- (string) the query string key (case insensitive) whose value you want to fetch\n- (required) an express-compatible request object\n\nreturns (string)  the value of the key requested or an empty string if not present (note that the value could also be an empty string so this is not a test to determine if a query string key is present)\n\n### getClientIP()\n\n-- variables will be searched in order given, and first one with an IP will be used.\n    \"IPWARE_HTTP_HEADER_PRECEDENCE_ORDER\": [\n        \"HTTP_CLIENT_IP\",\n        \"REMOTE_ADDR\"\n    ]\n\narguments: (required) an express-compatible request object\n\nreturn (string) the value of clientIP\n\n### setReqBodyData()\n\narguments: (required) an express-compatible request object\n\nset up new variable in pageContextData (a modified field in req.body) for pageContext reading purpose\n\n\n### getReqBodyData()\n\narguments:\n- (required) key (string) of the variable in pageContextData\n- (required) an express-compatible request object\n\nreturn (string/object) the value key from pageContextData\n\n### updateQueryStringParameter()\n\narguments:\n\n- url (string) the URL to be manipulated\n- key (string) the key in the query string to update or add\n- value (string) the value to assign to the key that is being updated or added\n- returns (string)  the manipulated URL with the key updated if it existed or added if it did not exist\n\n### isMobile()\nargument an express-compatible request object\n\nreturn (boolean) true if in mobile/tablet device, false if request comes from desktop device\n\n### isTrustedIP()\nargument an express-compatible request object\n\nreturn (boolean) true if current request comes from trusted IP (inside the firewall), false otherwise\n\n### isPrivateIP()\nargument an express-compatible request object\n\nreturn (boolean) true if current request comes from private IP, false otherwise\n\n### HTTPStatus\nA static Array contains all HTTP status Code definition\n\n\n## 2.x\n(Future)\n\n# Examples\n```javascript\n// components/get-my-param/get-my-param.js\n'use strict';\nvar httpUtil = require('couponscom-http-util/httpUtil');\n\nmodule.exports = (function () {\n    function getMyParam(myParam) {\n        return httpUtil.getQueryValue(myParam);\n    }\n    return {\n        getMyParam: getMyParam\n    };\n}());\n```\n\n# Jenkins Jobs\n\n[Release](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-release/)\n- [coverage](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-release-coverage/)\n- [jslint](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-release-lint-js/)\n- [unit tests](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-release-unittests/)\n\n[Integration](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-integration/)\n- [coverage](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-integration-coverage/)\n- [jslint](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-integration-lint-js/)\n- [unit tests](http://jenkins.corp.coupons.com/view/N2/view/Release/job/n2-http-util-integration-unittests/)\n",
  "readmeFilename": "README.md",
  "_id": "couponscom-http-util@1.19.0-6653-17c0ac888370",
  "dist": {
    "shasum": "9459a00edff1f8e03647abfdc60fff905393d227"
  },
  "_from": "couponscom-http-util@^1.0.0",
  "_resolved": "http://npm.corp.coupons.com:4873/couponscom-http-util/-/couponscom-http-util-1.19.0-6653-17c0ac888370.tgz"
}
